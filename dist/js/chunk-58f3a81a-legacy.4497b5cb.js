(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58f3a81a"],{"0d4b":function(t,e,n){},"3fb4":function(t,e,n){"use strict";var a=n("0d4b"),i=n.n(a);i.a},f736:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("keep-alive",[n("el-main",{staticStyle:{display:"flex","flex-direction":"column"}},[n("el-row",{staticStyle:{flex:"1 0 auto"},attrs:{gutter:16}},t._l(t.goods,(function(e){return n("el-col",{key:e.id,attrs:{span:6}},[n("el-card",[n("div",{attrs:{slot:"header"},slot:"header"},[n("strong",[t._v(t._s(e.name))])]),n("p",[t._v(t._s(e.price))]),n("p",[t._v("Count: "+t._s(t.cartMap.get(e.id)||0))]),n("el-button-group",[n("el-button",{attrs:{size:"small"},on:{click:function(n){return t.handleCickAdd({id:e.id,name:e.name,price:e.price})}}},[t._v("\n              Add\n            ")]),t.cartMap.get(e.id)?n("el-button",{attrs:{size:"small"},on:{click:function(n){return t.handleCickMinus({id:e.id})}}},[t._v("\n              Minus\n            ")]):t._e()],1)],1)],1)})),1),n("el-row",{attrs:{type:"flex",justify:"center",align:"center"}},[n("el-pagination",{attrs:{"current-page":t.current,"page-size":t.size,"page-sizes":[8,12,16,20,24],total:t.totalCount,layout:"total, sizes, prev, pager, next, jumper"},on:{"current-change":t.handleChangeCurrent,"size-change":t.handleChangeSize}})],1)],1)],1)},i=[],s=(n("7f7f"),{data:function(){return{current:1,size:8,totalCount:0}},computed:{goods:function(){return this.$store.getters.goods},cartMap:function(){return this.$store.getters.cartMap}},mounted:function(){this.handleGetData()},methods:{handleGetData:function(){var t=this,e=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("getGoodsAsync",{current:this.current,size:this.size}).then((function(n){var a=n.suc,i=n.msg,s=n.data;a?(t.$notify({title:"Success",message:"Get goods successfully.",type:"success"}),t.totalCount=s.paging.totalCount):t.$notify({title:"Error",message:i,type:"error"}),e.close()}))},handleCickAdd:function(t){var e=t.id,n=t.name,a=t.price;this.$store.commit("setCart",{type:"add",id:e,name:n,price:a})},handleCickMinus:function(t){var e=t.id;this.$store.commit("setCart",{type:"minus",id:e})},handleChangeSize:function(t){this.size=t,this.handleGetData()},handleChangeCurrent:function(t){this.current=t,this.handleGetData()}}}),r=s,o=(n("3fb4"),n("2877")),c=Object(o["a"])(r,a,i,!1,null,"592ac252",null);e["default"]=c.exports}}]);